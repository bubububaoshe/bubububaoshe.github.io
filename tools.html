<div id="txt"></div>
<audio id="audio_duration" src="https://quadpixels.github.io/combomp3/ysyy.mp3"></audio>
<style>
  #txt{
    white-space: pre;
  }
</style>
<script>
cs  = [
[ [ "风晴雪", "焦炭", "谢衣" ], "厨房功夫", 10, "cfgj"],
  [ [ "谢衣", "乐无异"], "春风雨", 4, "cfy"],
  [ [ "谢衣", "静水湖"], "重山隐", 4, "csy"] ,
  [ [ "谢衣", "沈夜"], "孤月寒灯", 4, "gyhd"] ,
  [ [ "谢衣", "忘川"], "别破军", 4, 'bpj'] ,
  [ [ "谢衣", "通天之器"], "空留忆", 4, 'kly'] ,
  [ [ "流月城", "谢衣"], "胡不归", 4, 'hbg'] ,
  [ [ "流月城", "沈夜"], "永夜寒沉", 4, 'yyhc'] ,
  [ [ "沈曦", "沈夜"], "三日遥", 4, 'sry'],
  [ [ "流月城", "沈曦"], "月中生", 4, 'yzssx'] ,
  [ [ "兔子抱枕", "沈曦"], "伴长眠", 4, 'bcm'] ,
  [ [ "华月箜篌", "华月"], "廉贞曲", 4, 'lzq'] ,
  [ [ "流月城", "华月"], "月之殇", 4, 'yzshy'] ,
  [ [ "华月", "沈夜"], "护孤城", 4, 'hgc'] ,
  [ [ "谢衣", "沈夜", "沈曦", "华月"], "烈山遗族", 20, 'lsyz'] ,
  [ [ "谢衣", "沈夜", "沈曦", "流月城", "华月"], "红月", 40, 'hy'] ,
  [ ["古剑晗光", "乐无异"], "家传宝贝", 5, 'jcbb'],
  [ ["禺期", "古剑晗光", "乐无异"], "剑主之谊", 10, 'jjzy'],
  [ ["长安", "乐无异"], "玉京游", 4, 'yjy'],
  [ ["百草谷", "闻人羽"], "星海天罡", 5, 'xhtg'],
  [ ["闻人羽", "乐无异"], "比肩行", 5, 'bjx'],
  [ ["金麒麟", "闻人羽", "乐无异"], "长相忆", 10, 'cxy'],
  [ ["夏夷则", "太华山"], "逸尘", 5, 'yc'],
  [ ["夏夷则", "露草"], "待佳期", 4, 'lc'],
  [ ["太华山", "清和真人"], "太华山人", 4, 'thsr'],
  [ ["夏夷则", "清和真人"], "严师胜父", 4, 'yssf'],
  [ ["夏夷则", "阿阮"], "光逐影", 5, 'gzy'],
  [ ["夏夷则", "太华山", "清和真人"], "温茶相待", 10, 'wcxd'],
  [ ["露草", "阿阮"], "共株生", 4, 'gzs'],
  [ ["昭明", "阿阮"], "芳草心", 4, 'fcx'],
  [ ["巫山", "阿阮"], "山鬼", 5, 'sg'],
  [ ["神女墓", "巫山"], "神女静眠", 4, 'snjm'],
  [ ["巫山", "露草", "阿阮"], "露草流萤", 10, 'lcly'],
  [ ["巫山", "露草", "阿阮", "神女墓"], "巫山神女", 20, 'wssn'],
  [ ["禺期", "红玉"], "古剑剑灵", 4, 'gjjl'],
  [ ["禺期", "昭明"], "铸剑仙师", 4, 'zjxs'],
  [ ["禺期", "无名之剑"], "历劫重生", 4, 'ljcs'],
  [ ["禺期", "古剑晗光"], "未成之剑", 4, 'wczj'],
  [ ["昭明", "无名之剑", "古剑晗光"], "千年一器", 10, 'qnyq'],
  [ ["昭明", "无名之剑", "古剑晗光", "禺期"], "天地熔炉", 20, 'tdrl'],
  [ ["昭明", "无名之剑", "古剑焚寂", "古剑红玉", "古剑晗光"], "古剑奇谭", 40, 'gjqt'],
  [ ["夏夷则", "阿阮", "闻人羽", "乐无异"], "蓝衫偃师记", 20, 'lsysj'],
  [ ["欧阳少恭", "青玉坛"], "丹芷长老", 4, 'dzzl'],
  [ ["欧阳少恭", "凤来"], "揽琴独照", 4, 'lqdz'],
  [ ["巽芳", "欧阳少恭"], "仙山眷侣", 4, 'xsjl'],
  [ ["榣山", "欧阳少恭"], "故地重回", 4, 'gdch'],
  [ ["悭臾", "欧阳少恭"], "榣山遗韵", 4, 'ysyy'],
  [ ["欧阳少恭", "蓬莱"], "栖身之所", 4, 'xszs'],
  [ ["巽芳", "蓬莱"], "蓬莱公主", 4, 'plgz'],
  [ ["巽芳", "蓬莱", "欧阳少恭"], "芳华如梦", 10, 'fhrm'],
  [ ["黑龙鳞片", "悭臾"], "应龙信物", 4, 'ylxw'],
  [ ["榣山", "悭臾"], "水虺醉琴", 4, 'shzq'],
  [ ["欧阳少恭", "方兰生"], "琴川友", 4, 'qcy'],
  [ ["琴川", "方兰生"], "望乡", 4, 'wx'],
  [ ["方兰生", "青玉司南佩"], "永相随", 4, 'yxs'],
  [ ["百胜刀", "方兰生"], "无情客", 4, 'wqk'],
  [ ["安陆", "红玉"], "明月青霜", 4, 'myqs'],
  [ ["古剑红玉", "红玉"], "剑舞红袖", 4, 'jwhx'],
  [ ["天墉城", "红玉"], "千古剑灵", 4,'qgjl'],
  [ ["紫榕林", "襄铃"], "故林栖", 4, 'glx'],
  [ ["风晴雪", "百里屠苏", "桃花谷"], "桃花幻梦", 10,'thhm'],
  [ ["风晴雪", "百里屠苏"], "与子成说", 3, 'gycs'],
  [ ["百里屠苏", "悭臾"], "乘龙归", 3, 'clg'],
  [ ["百里屠苏", "天墉城"], "云涌昆仑", 3, 'yykl'],
  [ ["天墉城", "陵越"], "天墉掌门", 4, 'tyzm'],
  [ ["百里屠苏", "陵越", "天墉城"], "天墉旧事", 10, 'tyjs'],
  [ ["百里屠苏", "古剑焚寂"], "焚焰血戮", 3, 'fyxl'],
  [ ["黑龙鳞片", "百里屠苏"], "故友赠礼", 3, 'gyzl'],
  [ ["百里屠苏", "欧阳少恭"], "琴心剑魄", 3, 'qxjp'],
  [ ["尹千觞", "欧阳少恭"], "醉梦江湖", 4, 'zmjh'],
  [ ["尹千觞", "幽都"], "幽都巫咸", 4, 'ydwx'],
  [ ["风晴雪", "尹千觞"], "陌相逢", 4, 'mxf'],
  [ ["风晴雪", "幽都"], "幽都灵女", 4, 'ydln'],
  [ ["风晴雪", "尹千觞", "幽都"], "幽夜苍茫", 10, 'yycm'],
  [ ["风晴雪", "方兰生", "百里屠苏", "红玉", "尹千觞", "襄铃"], "黑衣少侠传", 60, 'hysxz']
  /*
  [ ["巫炤", "司危"], "西陵毒唯", 4],
  [ ["巫炤", "西陵"], "炤不保西", 3],
  [ ["巫炤", "无名之地"], "千年老尸", 3],
  [ ["巫炤", "巫之国"], "梦乡", 3],
  [ ["巫炤", "司危","半魂莲"], "搞事情", 10],
  [ ["巫炤", "司危", "嫘祖", "西陵"], "倾城", 20],
  [ ["巫炤", "缙云"], "意难平", 4],
  [ ["巫炤", "欧阳少恭"], "放弃治疗", 4]
  */
];
var myVid = document.getElementById("audio_duration");
var div = document.getElementById("txt");
var size = cs.length;
var i = -1;
function duration(){
  i++;
  if(i==size) return;
  myVid.src = g_resource_prefix + "combomp3/" + cs[i][3] + ".mp3";
  myVid.load();
  myVid.oncanplay = function () {
   //div.textContent += i + ": " +  myVid.duration*1000 + "\n";
   console.log(i);
   cs[i].push(myVid.duration*1000);
  }
  setTimeout(duration, 500);
}
duration();
setTimeout(function(){
for(var k=0; k<cs.length; k++){
  var c = cs[k];
  div.textContent += "[[";
  for(var j=0; j<c[0].length; j++){
   div.textContent += "'" + c[0][j] + "'";
   if(j != c[0].length -1)
    div.textContent += ",";
   }
   div.textContent += "]";
   for(var j=1; j<c.length; j++){
     div.textContent += ",";
     if(j%2 == 1)
       div.textContent += "'" + c[j] + "'";
     else
       div.textContent += c[j];
   }
   div.textContent += "],\n";
}
}, 70000);
</script>
